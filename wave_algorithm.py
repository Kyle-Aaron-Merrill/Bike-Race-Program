# Sample list of participants (replace this with your actual data)
participants = [
    {"name": "Rider 1", "weekly_pace": 40, "average_pace": 12, "bike_type": "Mountain bike", "gender": "Male"},
    {"name": "Rider 2", "weekly_pace": 70, "average_pace": 16, "bike_type": "Road/Gravel", "gender": "Female"},
    {"name": "Rider 3", "weekly_pace": 55, "average_pace": 14, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 4", "weekly_pace": 110, "average_pace": 18, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 5", "weekly_pace": 30, "average_pace": 10, "bike_type": "Mountain bike", "gender": "Female"},
    {"name": "Rider 6", "weekly_pace": 75, "average_pace": 17, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 7", "weekly_pace": 90, "average_pace": 19, "bike_type": "Road/Gravel", "gender": "Female"},
    {"name": "Rider 8", "weekly_pace": 50, "average_pace": 13, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 9", "weekly_pace": 40, "average_pace": 11, "bike_type": "Mountain bike", "gender": "Female"},
    {"name": "Rider 10", "weekly_pace": 65, "average_pace": 15, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 11", "weekly_pace": 105, "average_pace": 18.5, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 12", "weekly_pace": 35, "average_pace": 12, "bike_type": "Mountain bike", "gender": "Female"},
    {"name": "Rider 13", "weekly_pace": 80, "average_pace": 16.5, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 14", "weekly_pace": 85, "average_pace": 19, "bike_type": "Road/Gravel", "gender": "Female"},
    {"name": "Rider 15", "weekly_pace": 55, "average_pace": 13.5, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 16", "weekly_pace": 45, "average_pace": 10.5, "bike_type": "Mountain bike", "gender": "Female"},
    {"name": "Rider 17", "weekly_pace": 70, "average_pace": 17, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 18", "weekly_pace": 95, "average_pace": 18.5, "bike_type": "Road/Gravel", "gender": "Female"},
    {"name": "Rider 19", "weekly_pace": 60, "average_pace": 14, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 20", "weekly_pace": 38, "average_pace": 11.5, "bike_type": "Mountain bike", "gender": "Female"},
    {"name": "Rider 21", "weekly_pace": 75, "average_pace": 16, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 22", "weekly_pace": 100, "average_pace": 19, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 23", "weekly_pace": 50, "average_pace": 12.5, "bike_type": "Road/Gravel", "gender": "Female"},
    {"name": "Rider 24", "weekly_pace": 42, "average_pace": 11, "bike_type": "Mountain bike", "gender": "Male"},
    {"name": "Rider 25", "weekly_pace": 68, "average_pace": 15, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 26", "weekly_pace": 110, "average_pace": 18, "bike_type": "Road/Gravel", "gender": "Female"},
    {"name": "Rider 27", "weekly_pace": 52, "average_pace": 13.5, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 28", "weekly_pace": 47, "average_pace": 10.5, "bike_type": "Mountain bike", "gender": "Female"},
    {"name": "Rider 29", "weekly_pace": 70, "average_pace": 17, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 30", "weekly_pace": 90, "average_pace": 19, "bike_type": "Road/Gravel", "gender": "Female"},
    {"name": "Rider 31", "weekly_pace": 55, "average_pace": 14, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 32", "weekly_pace": 40, "average_pace": 10.5, "bike_type": "Mountain bike", "gender": "Female"},
    {"name": "Rider 33", "weekly_pace": 78, "average_pace": 16.5, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 34", "weekly_pace": 85, "average_pace": 18, "bike_type": "Road/Gravel", "gender": "Female"},
    {"name": "Rider 35", "weekly_pace": 60, "average_pace": 13, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 36", "weekly_pace": 37, "average_pace": 11, "bike_type": "Mountain bike", "gender": "Female"},
    {"name": "Rider 37", "weekly_pace": 74, "average_pace": 15.5, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 38", "weekly_pace": 105, "average_pace": 17.5, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 39", "weekly_pace": 50, "average_pace": 12.5, "bike_type": "Road/Gravel", "gender": "Female"},
    {"name": "Rider 40", "weekly_pace": 43, "average_pace": 10, "bike_type": "Mountain bike", "gender": "Male"},
    {"name": "Rider 41", "weekly_pace": 69, "average_pace": 14.5, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 42", "weekly_pace": 112, "average_pace": 19.5, "bike_type": "Road/Gravel", "gender": "Female"},
    {"name": "Rider 43", "weekly_pace": 53, "average_pace": 13, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 44", "weekly_pace": 45, "average_pace": 10.5, "bike_type": "Mountain bike", "gender": "Female"},
    {"name": "Rider 45", "weekly_pace": 73, "average_pace": 16, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 46", "weekly_pace": 98, "average_pace": 18, "bike_type": "Road/Gravel", "gender": "Female"},
    {"name": "Rider 47", "weekly_pace": 65, "average_pace": 13.5, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 48", "weekly_pace": 39, "average_pace": 11, "bike_type": "Mountain bike", "gender": "Female"},
    {"name": "Rider 49", "weekly_pace": 71, "average_pace": 15, "bike_type": "Road/Gravel", "gender": "Male"},
    {"name": "Rider 50", "weekly_pace": 95, "average_pace": 17, "bike_type": "Road/Gravel", "gender": "Female"},
]

# Sort participants by experience level (weekly_pace)
participants.sort(key=lambda x: x["weekly_pace"])

# Create waves dictionary to store riders
waves = {}

# Function to add riders to waves
def add_rider_to_wave(wave_key, rider):
    if wave_key in waves and len(waves[wave_key]) < 4:
        waves[wave_key].append(rider)
    else:
        waves[wave_key] = [rider]

# Initialize variables to keep track of wave and wave size
current_wave = 1
current_wave_size = 0

# Iterate through participants and allocate them to waves
for participant in participants:
    rider_criteria = (participant["bike_type"], participant["gender"])
    wave_key = f"Wave {current_wave} ({participant['name']}, {participant['weekly_pace']}, {participant['weekly_pace']}, {participant['average_pace']}, {', '.join(rider_criteria)})"
    
    add_rider_to_wave(wave_key, participant["name"])
    
    current_wave_size += 1
    if current_wave_size >= 4:
        current_wave += 1
        current_wave_size = 0

# Print the waves and their riders
for wave_key, riders in waves.items():
    print(f"{wave_key}:")
